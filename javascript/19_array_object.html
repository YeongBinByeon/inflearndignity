<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      let brands = ["애플", "구글", "아마존", "마이크로소프트", "메타"];
      // toString()
      console.log(brands.toString());

      // join()
      // 파라미터로 전달된 문자가 요소 사이 마다 삽입이 되어서 하나의 문자로 결합
      console.log(brands.join(" * "));
      console.log(brands.join(""));

      let drinkList = [
        { name: "오렌지", price: 1000 },
        { name: "파워에이드", price: 1500 },
        { name: "커피", price: 700 },
        { name: "보리음료", price: 1200 },
        { name: "코카콜라", price: 1000 },
      ];

      let trTags = [];
      for (const drink of drinkList) {
        trTags.push("<tr>");
        trTags.push("<td>" + drink.name + "</td>");
        trTags.push("<td>" + drink.price + "</td>");
        trTags.push("</tr>");
      }
      console.log(trTags.join(""));

      // pop() - 배열에서 마지막 요소를 제거를 하고, 그 마지막 요소를 반환
      console.log(brands.pop());
      console.log(brands);

      // push() - 배열의 끝에 새로운 요소를 추가
      brands.push("테슬라");
      console.log(brands);

      // shift() - 배열의 첫번째 요소를 제거하면서 그 요소를 반환
      // 서버 프로그램할 때 shift() 많이 사용

      // unshift() - 배열의 제일 앞에 요소를 추가하고, 배열의 길이를 변환

      // splice() - 배열의 특정 위치에 새로운 요소를 추가, 추가할 때 기존 요소 삭제하면서 추가할 수 있음
      // 첫번째 파라미터 - 새로운 요소를 추가할 인덱스 번호
      // 두번째 파라미터 - 요소를 추가하기전에 삭제할 요소 수
      // 나머지 파라미터 - 추가할 요소
      brands.splice(1, 1, "개발자의 품격", "더그레잇");
      console.log(brands);

      // concat() - 2개 이상의 배열을 하나의 배열로 결합
      let arr1 = ["A", "B"];
      let arr2 = ["C", "D"];
      let arr3 = ["E", "F", "G"];
      let arr4 = arr1.concat(arr2, arr3);
      console.log(arr4);

      let arr5 = [...arr1, ...arr2, ...arr3];
      console.log(arr5);

      // slice() - 배열의 요소를 잘라내서 배열 형태로 반환
      console.log(arr4.slice(2, 4));

      // sort() - 배열의 요소를 정렬해주는 함수
      console.log(brands.sort());

      let points = [40, 100, 1, 5, 25, 10];
      console.log(points.sort());

      function numberSortAsc(a, b) {
        // a - 40, b - 100
        return a - b;
      }

      const ascPoints = points.sort(numberSortAsc);
      console.log(ascPoints);

      const descPoints = points.sort(function (a, b) {
        return b - a;
      });
      console.log(descPoints);

      const ascDrinkList = drinkList.sort(function (a, b) {
        return a.price - b.price;
      });
      console.log(ascDrinkList);

      // filter
      let availableProduct = [];
      const inputCoin = 1000;
      //for (const drink of drinkList) {
      //  if (drink.price <= inputCoin) {
      //    availableProduct.push(drink);
      // }
      //}
      //console.log(availableProduct);

      availableProduct = drinkList.filter((drink) => {
        return drink.price <= inputCoin;
      });
      console.log(availableProduct);

      // map() - 배열이 가지고 있는 요소가 오브젝트인 경우,
      // 오브젝트가 가지고 있는 key-value쌍이 있는데,
      // 새로운 오브젝트 형태로 변경해서 새로운 배열을 반환
      let userList = [
        {
          firstName: "재석",
          lastName: "유",
          email: "ryu@gmail.com",
        },
        {
          firstName: "종국",
          lastName: "김",
          email: "ryu@gmail.com",
        },
        {
          firstName: "지효",
          lastName: "송",
          email: "ryu@gmail.com",
        },
      ];

      let newUserList = userList.map(function (user) {
        return {
          fullName: user.lastName + user.firstName,
          email: user.email,
        };
      });
      console.log(newUserList);

      // reduce()
      points = [40, 100, 1, 5, 25, 10];
      let sum = 0;
      for (const point of points) {
        sum += point;
      }

      // 첫번재 accumulator - 누적값
      // 두번째 currentValue - 현재 배열 요소
      // 세번째 currentIndex - 현재 배열 인덱스 번호
      // 네번째 arr - 전체 배열
      sum = points.reduce(function (accumulator, currentValue) {
        return accumulator + currentValue;
      }, 0);

      console.log(sum);

      drinkList = [
        { name: "오렌지", price: 1000 },
        { name: "파워에이드", price: 1500 },
        { name: "커피", price: 700 },
        { name: "보리음료", price: 1200 },
        { name: "코카콜라", price: 1000 },
      ];

      let drinkTotal = drinkList.reduce(function (total, currentValue) {
        return total + currentValue.price;
      }, 0);
      console.log(drinkTotal);

      userList = [
        {
          firstName: "재석",
          lastName: "유",
          email: "ryu@gmail.com",
        },
        {
          firstName: "종국",
          lastName: "김",
          email: "ryu@gmail.com",
        },
        {
          firstName: "지효",
          lastName: "송",
          email: "ryu@gmail.com",
        },
        {
          firstName: "지효1",
          lastName: "송",
          email: "ryu@gmail.com",
        },
      ];
      let songs = userList.reduce(function (users, user) {
        if (user.lastName === "송") {
          users.push(user);
        }
        return users;
      }, []);
      console.log(songs);
    </script>
  </body>
</html>
